<!DOCTYPE html>
<html>

<head>
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
   <style>
      .bar {
         background-color: #000000;
         height: 0px;
         width: 4px;
         float: left;
         margin-right: 2px;

      }

      #rect {
         width: 1500px;
         height: 600px;
         border: 3px solid #00FF00;
         border-radius: 10px;
         margin: 0 auto;

      }
   </style>
</head>

<body>

   <input type="range" min="5" max="250" value="100" id="slider">

   <div id="rect">
   </div>

   <input id="btn-create" onclick="create($('#slider').val() )" type="button" value="CREATE">

   <script>

      var size = 100;
      var max_height = 200;

      $(document).ready(function () {
         $("#rect").width($(window).width() * 0.8);
         $("#rect").height($(window).height() * 0.6);
      });

      function create(sze) {
         $("#rect").empty();

         size = Math.min(Math.floor(sze), $(window).width() * 0.4);
         var arr = new Array(size);

         for (var i = 0; i < arr.length; i++)
            arr[i] = Math.floor((Math.random() * max_height) + 1);

         draw(arr);

      }

      function draw(arr, lbound = 0, rbound = size) {

         $(document).ready(function () {
            $("#rect").width($(window).width() * 0.8);
            $("#rect").height($(window).height() * 0.6);

            var rect_width = $("#rect").width() - 2 * size;
            var bar_width = rect_width / size;
            $(".bar").width(("" + bar_width + "px"));
         });

         for (var i = lbound; i < rbound; i++) {
            $(("<div id = " + i + " />")).appendTo("#rect");
            $('#' + i).addClass("bar");
            $('#' + i).animate({ height: "" + arr[i] * 2 + "px" }, 1500);

         }

      }

   </script>


</body>

</html>