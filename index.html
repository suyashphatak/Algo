<!DOCTYPE html>
<html>
<head>
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
   <style>
      .bar{
         background-color:#000000;
         height: 0px;
         width: 4px;
         float: left;
         margin-right: 2px;
         
      }
      #rect{
         width:1500px;
         height:600px; 
         border: 3px solid #00FF00;
         border-radius: 10px;
         margin: 0 auto;
         
         /* background: #000000; */
      }
   </style>
</head>
<body>

    <p>Number of elements:</p>
    <input type="range" min="10" max="500" value="50"  id="size">
    
    
    <div id="rect"> 

   </div>
   <input id="btn-create" onclick = "create()" type="button" value="CREATE">

   <script>
        var size = 100;
        var max_height=200;
        
        $(document).ready(function(){
        
            $("#rect").width($(window).width()*0.8);
            $("#rect").height($(window).height()*0.6);
        });

        var arr = new Array(size);
         
      function create()
      {
          console.log("create");
          //draw(arr);
          for(var i = 0; i < arr.length; i++)
            arr[i] = Math.floor((Math.random() * max_height) + 1);
         
         draw(arr);
        
      }

      function draw(arr,lbound = 0,rbound = size )
      {
        
        $(document).ready(function(){
        $("#rect").width($(window).width()*0.8);
        $("#rect").height($(window).height()*0.6);
        var rect_width = $("#rect").width()-2*size;
        var bar_width = rect_width/size;
        $(".bar").width((""+bar_width+"px")); 
         console.log($(".bar").width());
        });
         for(var i = lbound; i < rbound; i++)
         {
            $(("<div id = "+i+" />")).appendTo("#rect");

         }
         //console.log("hello ");
         for(var i = lbound; i < rbound; i++)
         {
   
            // document.getElementById(''+i).style.height = ""+arr[i]*2+"px";
            $('#'+i).addClass("bar");
            $('#'+i).animate({height: ""+arr[i]*2+"px"},1500);
            // console.log(i);
         } 
          
      }
   
   </script>
   
   
</body>
</html>